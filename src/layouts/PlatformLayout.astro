---
// Specific layout for platform pages
// import Layout from './Layout.astro'; <-- No longer needed directly
import ArticleLayout from './ArticleLayout.astro'; // Import the new base article layout
import type { CollectionEntry } from 'astro:content';
// import PostNavigation from '../components/PostNavigation.astro'; // Handled by ArticleLayout

interface Props {
	entry: CollectionEntry<'platforms'>; // Expects a platform entry
  prev?: { slug: string; title: string } | null; // Made optional for sub-pages
  next?: { slug: string; title: string } | null; // Made optional for sub-pages
}

const { entry, prev, next } = Astro.props;
const { title, type, manufacturer, year } = entry.data;
const contentType = 'platforms'; // Define content type for navigation
---
<ArticleLayout 
  title={title}
  contentType={contentType}
  prev={prev}
  next={next}
  pageTitle={`${title} - Platforms - Code 198x`}
  prevText="&larr; Previous Platform" // Pass custom nav text
  nextText="Next Platform &rarr;"
>
  {/* Platform-specific metadata goes into the 'metadata-below-title' slot */}
  <Fragment slot="metadata-below-title">
    <p><strong>Type:</strong> {type}</p>
	  {manufacturer && <p><strong>Manufacturer:</strong> {manufacturer}</p>}
	  {year && <p><strong>Year:</strong> {year}</p>}
    {/* We could potentially query and list related tutorials here later */}
  </Fragment>

	<slot /> {/* Platform description/content goes into the default slot */}

</ArticleLayout>

{/* Styles specific to PlatformLayout can remain */}
<style>
  /* Remove styles handled by ArticleLayout or base Layout.astro */
	/* Keep styles specific only to platform pages, e.g., metadata formatting */
	[slot="metadata-below-title"] p {
		margin-bottom: 0.25em; /* Tighter spacing for metadata */
    font-size: 0.9em;
    color: var(--color-text-muted); /* Example: Muted color */
	}
</style> 