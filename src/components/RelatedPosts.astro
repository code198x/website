---
// src/components/RelatedPosts.astro

// Updated structure for related items, including collection
interface RelatedItem {
  slug: string;
  title: string;
  collection: string; // e.g., 'posts', 'tutorials'
}

interface Props {
  relatedPosts: RelatedItem[];
  // contentType prop is no longer needed here
  // contentType: 'blog' | 'tutorials' | 'concepts' | 'platforms'; 
}

// Removed contentType from destructuring
const { relatedPosts } = Astro.props;

// Base path is now determined per item
// const basePath = `/${contentType}`;

// Function to capitalize the first letter (for the heading)
const capitalize = (s: string) => s.charAt(0).toUpperCase() + s.slice(1);

// Determine a sensible heading (can be customized further)
const heading = "Related Content"; // Simpler heading for mixed content
---

{relatedPosts && relatedPosts.length > 0 && (
  <aside class="related-posts">
    <h2>{heading}</h2>
    <ul>
      {relatedPosts.map(item => (
        <li>
          {/* Use item.collection to build the correct link */}
          <a href={`/${item.collection}/${item.slug}`}>{item.title}</a> 
          <span class="content-type">({capitalize(item.collection)})</span> {/* Show content type */}
        </li>
      ))}
    </ul>
  </aside>
)}

<style>
  .related-posts {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid var(--color-border);
  }
  .related-posts h2 {
    margin-bottom: 1rem;
    font-size: 1.4em;
  }
  .related-posts ul {
    list-style: disc;
    padding-left: 1.5rem;
    margin: 0;
  }
  .related-posts li {
    margin-bottom: 0.5rem;
  }
  .related-posts .content-type {
      font-size: 0.85em;
      color: var(--color-text-muted);
      margin-left: 0.5em;
  }
</style> 